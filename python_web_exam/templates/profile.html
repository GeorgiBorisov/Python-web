{% extends 'main.html' %}
{% block content %}
        <div class="container view-profile">
        {% if action == 'view'  %}
            <div class="row view-profile">
            <div class="bg-modal">
                <div class="close"> + </div>
                <div class="modal-content">
                    <p>Are you sure you want to delete this profile?</p>
                    <a class="confirm-delete" href="{% url 'delete-profile' %}">Yes</a>
                    <a class="cancel-delete" href="#">No</a>
                </div>
            </div>
                <h2>Name: {{ user.username }}</h2>
                <h2>Created on: {{ user.date_joined }}</h2>
                <h2>Last login: {{ user.last_login }}</h2>
                <h2>User status: {{ user.is_superuser|yesno:"Admin,Regular" }} user</h2>
            </div>
            <div class="row">
                <a class="profile-edit" href="{% url 'edit-profile' %}">Edit profile</a>
                <a class="profile-delete" href="#">Delete Profile</a>
            </div>
            
        {% elif action == 'edit' %}
            <form class="auth-form" action="{% url 'edit-profile' %}" method="post">
                <label>{{ form.username.label }}</label>
                {{ form.username }}
                <label>{{form.current_password.label}}</label>
                {{form.current_password}}
                <label>{{form.new_password.label}}</label>
                {{form.new_password}}
                <label>{{form.confirm_new_password.label}}</label>
                {{form.confirm_new_password}}
                {% csrf_token %}
                <input type="submit" value="{{action}}">
            </form>
        {% endif %}
        {% if form.errors %}
            {% for key, value in form.errors.items %}
                <p class="form-error">{{ value }}</p>
            {% endfor %}
        {% endif %}
        </div>
{% endblock %}